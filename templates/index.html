<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI-Based Fake News Detection System using Machine Learning & NLP">
    <meta name="theme-color" content="#667eea">
    <title>AI Fake News Detection System</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        * { transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
        
        /* Speedometer/Gauge Styles */
        .speedometer-container {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 0 auto;
        }
        
        .speedometer-needle {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(-90deg);
            transition: transform 1s ease-out;
            width: 4px;
            height: 120px;
            background: linear-gradient(to top, #ef4444, #f97316, #22c55e);
            border-radius: 2px;
            z-index: 2;
        }
        
        .speedometer-arc {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 150px;
            border: 20px solid;
            border-color: #ef4444 #f97316 #22c55e transparent;
            border-radius: 300px 300px 0 0;
            border-bottom: none;
        }
        
        /* Word Highlighting */
        .word-suspicious { background-color: rgba(239, 68, 68, 0.3); padding: 2px 4px; border-radius: 3px; }
        .word-trusted { background-color: rgba(34, 197, 94, 0.3); padding: 2px 4px; border-radius: 3px; }
        .word-neutral { color: #6b7280; }
        
        /* Theme Styles */
        .theme-neon { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
        }
        .theme-glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .theme-corporate {
            background: #f8f9fa;
            color: #212529;
        }
        .theme-hacker {
            background: #0a0e27;
            color: #00ff41;
            font-family: 'Courier New', monospace;
        }
        
        /* Animations */
        @keyframes countUp { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        
        .count-up { animation: countUp 0.5s ease-out; }
        .slide-in { animation: slideIn 0.3s ease-out; }
        .pulse-animation { animation: pulse 2s ease-in-out infinite; }
        
        /* Live Warning */
        .live-warning {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            max-width: 400px;
            margin: 0 auto;
            z-index: 1000;
            transform: translateY(100px);
            transition: transform 0.3s ease;
        }
        .live-warning.show { transform: translateY(0); }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen" id="body">
    
    <!-- Theme Selector -->
    <div class="fixed top-4 left-4 z-50">
        <select id="themeSelector" class="px-4 py-2 rounded-lg bg-white dark:bg-gray-800 shadow-lg border border-gray-300 dark:border-gray-600 text-sm">
            <option value="default">Default</option>
            <option value="neon">Neon</option>
            <option value="glass">Glassmorphism</option>
            <option value="corporate">Corporate</option>
            <option value="hacker">Dark Hacker</option>
        </select>
    </div>
    
    <!-- Theme Toggle -->
    <button id="themeToggle" class="fixed top-4 right-4 z-50 p-3 rounded-full bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all">
        <svg id="sunIcon" class="w-6 h-6 text-yellow-500 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
        </svg>
        <svg id="moonIcon" class="w-6 h-6 text-gray-700 dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
        </svg>
    </button>
    
    <!-- Live Warning Messages -->
    <div id="liveWarning" class="live-warning">
        <div class="bg-yellow-500 text-white px-4 py-3 rounded-lg shadow-xl">
            <div class="flex items-center gap-2">
                <span>‚ö†Ô∏è</span>
                <span id="liveWarningText">Real-time analysis active</span>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="fixed top-20 right-4 z-50 transform translate-x-96 transition-transform">
        <div class="bg-red-500 text-white px-6 py-4 rounded-lg shadow-xl flex items-center gap-3">
            <span id="toastMessage">Error</span>
        </div>
    </div>
    
    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent">
                AI Fake News Detection System
            </h1>
            <p class="text-lg text-gray-600 dark:text-gray-300">
                Detect misinformation using Machine Learning & NLP
            </p>
        </header>
        
        <!-- Input Card -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
            <!-- Input Mode Toggle -->
            <div class="flex gap-2 mb-4 p-1 bg-gray-100 dark:bg-gray-700 rounded-lg">
                <button id="textModeBtn" class="flex-1 py-2 px-4 rounded-md font-medium transition-all bg-purple-600 text-white">
                    üìù Text Input
                </button>
                <button id="urlModeBtn" class="flex-1 py-2 px-4 rounded-md font-medium transition-all text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
                    üîó URL Input
                </button>
            </div>
            
            <!-- Text Input Section -->
            <div id="textInputSection">
                <label class="block text-sm font-semibold mb-3">Enter News Article Text</label>
                <textarea 
                    id="newsInput" 
                    rows="8"
                    placeholder="Paste or type the news article text here..."
                    class="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none"
                ></textarea>
                <div class="flex justify-between items-center mt-2">
                    <span class="text-xs text-gray-500"><span id="charCount">0</span> / 5000</span>
                    <button id="clearBtn" class="text-xs text-purple-600 hover:text-purple-800">Clear</button>
                </div>
            </div>
            
            <!-- URL Input Section -->
            <div id="urlInputSection" class="hidden">
                <label class="block text-sm font-semibold mb-3">Enter News Article URL</label>
                <input 
                    type="url"
                    id="urlInput" 
                    placeholder="https://example.com/news-article"
                    class="w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
                />
                <p class="text-xs text-gray-500 mt-2">Paste a news article URL to automatically extract and analyze content</p>
            </div>
            
            <button 
                id="detectBtn"
                disabled
                class="w-full mt-4 py-4 px-6 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3"
            >
                <span id="btnText">Detect Fake News</span>
                <svg id="loadingSpinner" class="w-5 h-5 hidden spinner" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
            </button>
        </div>
        
        <!-- AI Summary Card (Hidden initially) -->
        <div id="summaryCard" class="hidden bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 mb-6 border-l-4 border-blue-500">
            <h3 class="font-semibold text-blue-900 dark:text-blue-100 mb-2">ü§ñ AI-Generated Summary</h3>
            <p id="summaryText" class="text-blue-800 dark:text-blue-200 text-sm"></p>
        </div>
        
        <!-- Results Section -->
        <div id="resultSection" class="hidden">
            
            <!-- Language Detection -->
            <div id="languageCard" class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 mb-6 border-l-4 border-blue-500 hidden">
                <div class="flex items-center gap-3">
                    <span class="text-2xl">üåê</span>
                    <div>
                        <div class="font-semibold text-blue-900 dark:text-blue-100">Detected Language</div>
                        <div id="languageText" class="text-sm text-blue-800 dark:text-blue-200"></div>
                    </div>
                </div>
            </div>
            
            <!-- Trust Meter Speedometer -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-center text-lg font-semibold mb-4">AI News Trust Meter</h3>
                <div class="speedometer-container">
                    <div class="speedometer-arc"></div>
                    <div id="speedometerNeedle" class="speedometer-needle"></div>
                </div>
                <div class="text-center mt-4">
                    <div id="trustLevel" class="text-2xl font-bold"></div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">This converts binary ML output into a human-friendly trust score.</p>
                </div>
            </div>
            
            <!-- AI Reasoning Module -->
            <div class="bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-2xl shadow-xl p-6 mb-6 border-2 border-purple-200 dark:border-purple-800">
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-3xl">üß†</span>
                    <div>
                        <h3 class="text-xl font-bold text-purple-900 dark:text-purple-100">AI Reasoning Module</h3>
                        <p class="text-sm text-purple-700 dark:text-purple-300">Detailed explanation of why this news was classified as Fake/Real</p>
                    </div>
                </div>
                
                <!-- Reasoning Summary -->
                <div id="reasoningSummary" class="mb-6 p-4 bg-white dark:bg-gray-800 rounded-xl border-l-4 border-purple-500">
                    <p id="reasoningSummaryText" class="text-gray-800 dark:text-gray-200 font-medium"></p>
                </div>
                
                <!-- Detailed Reasons -->
                <div id="reasoningDetails" class="space-y-4">
                    <!-- Reasons will be dynamically inserted here -->
                </div>
            </div>
            
            <!-- Highlighted Text -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-lg font-semibold mb-4">üìù Text Analysis with Highlighting</h3>
                <div id="highlightedText" class="p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm leading-relaxed"></div>
            </div>
            
            <!-- Emotion Detector -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-lg font-semibold mb-4">üé≠ Emotion & Sensationalism Detector</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Fake news often manipulates emotions rather than facts.</p>
                <div id="emotionBars" class="space-y-3"></div>
            </div>
            
            <!-- Pattern Score Checklist -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-lg font-semibold mb-4">üß™ Fake News Pattern Score</h3>
                <div id="patternChecklist" class="space-y-2"></div>
            </div>
            
            <!-- Fact-Check Assistant -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-lg font-semibold mb-4">üïµÔ∏è Fact-Check Assistant</h3>
                <div id="factCheckClaims" class="space-y-3"></div>
            </div>
            
            <!-- Confidence with Count-Up -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-lg font-semibold mb-4">üìä Confidence Score</h3>
                <div class="text-center mb-4">
                    <div id="confidenceCountUp" class="text-5xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent">0%</div>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-6">
                    <div id="confidenceBar" class="h-full rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 transition-all duration-2000" style="width: 0%"></div>
                </div>
            </div>
            
            <!-- Analyze Another -->
            <button id="analyzeAnotherBtn" class="w-full py-3 px-6 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all">
                Analyze Another Article
            </button>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="mt-16 py-6 text-center text-gray-600 dark:text-gray-400">
        <p>Final Year Project | AI & Machine Learning</p>
    </footer>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

